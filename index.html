<html>
  <head>
    <title>
      cam generator
    </title>
    <style>

      body {
        background-color: #C6B69B;
        font-family: sans-serif;
        font-size: 18px;
        height: 100%;
        margin: 0;
        overflow: hidden;
        padding: 0;
        position: relative;
        width: 100%;
      }

      .container {
        align-items: flex-start;
        display: flex;
        justify-content: center;
        z-index: 2;
      }

      .container > * {
        padding: 2em;
        position: relative;
        z-index: 2;
      }

      img {
        pointer-events: none;
      }

      form input[type='submit'] {
        display: block;
      }

      form input[type='number'] {
        width: 50px;
      }

    </style>
    <script>
      var cams = [];
      var body = null;
      var start = null;

      function Cam(){
        this.x = Math.random() > 0.5 ? 0 : 1.0;
        this.y = Math.random();
        this.speed = 0.0025 + (Math.random() * 0.005);
        if (this.x == 1) {
          this.speed = -1 * this.speed;
        }
        this.size = 50 + (Math.random() * 250);
        this.el = document.createElement('IMG');
        this.el.style.position = 'absolute';
        this.el.src = './cam.png';
        this.el.setAttribute('width', this.size);
        if (Math.random() < 0.5) {
          this.el.style.transform = 'scaleX(-1)';
        }
      }
      Cam.prototype.animate = function() {
        this.x = this.x + this.speed;

        this.el.style.top = (this.y * (body.offsetHeight - this.el.offsetHeight)) + 'px';
        this.el.style.left = this.x * body.offsetWidth + 'px';
      }

      function step(timestamp) {
        cams.forEach(function(cam, index) {
          cam.animate();
          if (cam.x > 1 || cam.x < 0) {
            body.removeChild(cam.el);
            cams.splice(index, 1);
          }
        });
            
        window.requestAnimationFrame(step);
      }

      function addCam() {
        if (body === null) {
          body = document.getElementsByTagName('body')[0];
        }
        var cam = new Cam();
        cams.push(cam);
        body.appendChild(cam.el);
        cam.animate();
      }

      function alottaCams() {
        var error = document.getElementById("error");
        var number = document.getElementById("numbercam").value;
        var i = 0;
        if (number > 0 && number <= 100) {
          error.innerHTML = "";
          function timedCam() {
            addCam();
            i++;
            if (i < number){
              setTimeout(timedCam, 50);
            }
          }
          timedCam();
        } else if (number > 50) {
          error.innerHTML = "way too many cams";
        } else {
          error.innerHTML = "you have to have a cam";
        }
      }

      window.requestAnimationFrame(step);
    </script>
  </head>
  <body>
    <div class="container">
      <div>
        <p>
          if you only want one cam
        </p>
        <input 
          id="addcam" 
          onclick="addCam()" 
          tabindex="0" 
          type="button" 
          value="one cam pls" />
      </div>
      <form onsubmit="alottaCams()">
        <p>
          <label for="numbercam">
            "actually i want 
            <input 
              id="numbercam" 
              max="50"
              placeholder="50"
              type="number" /> 
            cams"
          </label>
        </p>
        <input 
          href="#" 
          type="submit" 
          value="cam me" />
        <p id="error"></p>
      </form>
    </div>
  </body>
</html>